<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newFlex</title>
        <!-- BootStrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.14.0/themes/base/jquery-ui.css">
    
        <!-- Local Resources  
           <script src="./pf_ubica_fichas.js" defer></script>
        <script src="./parchis_flex.js" defer></script>
      
        
         -->
        <link href="./newFlex.css" rel="stylesheet">
<style>

.panel-div{
    border: outset;
    border-radius: 10px;
    /* padding: 1px; */
    position: absolute;
    min-width: fit-content;
    min-height: fit-content;
   background-color: white;
}
.panel-div h2 , .panel-div h4{
    border: outset;
    border-radius: 10px;
    padding: 5px;
    min-width: fit-content;
    min-height: fit-content;
    text-align: center;
 /* border-bottom-left-radius: 0%;
    border-bottom-right-radius: 0%; */
/* height: 5%; */
/* margin: 3px; */

}
.panel-div header{
    border: none;
    border-radius: 10px;
    padding: 5px;
    min-width: fit-content;
    min-height: fit-content;
    text-align: center;
 border-bottom-left-radius: 0%;
    border-bottom-right-radius: 0%;
/* height: 5%; */
margin: 3px;

}
#panel_tablero {
    left: 1%;
    top:2%;
width: 50%;
height: 95%;
   
}
#panel_tablero >header{
display: none !important;
   
}
#panel_tools{ 
    right: 1%;bottom:2%;width: 45%;
    /* z-index: 200; */
}

#panel_log_top{
    right: 1%;width: 45%;
    top:2%;
    max-width: 45%;
    overflow: hidden;
max-height: 60%;

}
.panel-div-body{
    max-height: 100%;
    overflow: hidden;
    height: 100%;
    border: inset;
    border-radius: 10px;
    border-top-left-radius: 0%;
    border-top-right-radius: 0%;
    margin: 3px;
    /* margin-bottom: 40px; */
    padding: 5px;
}

</style>
</head>
<body>
    <template>
        <div id="pantalla1" class="tablero" style="">
            <div class=" h-25 d-flex flex-row  items-stretch">
                <div class="p-0 casa border-0 w-25 bg-danger bg-gradient d-flex flex-column  items-stretch">
    
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="101" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="rojas_1_log">x</div>
    
                        </div>
                        <div id="102" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="rojas_2_log">x</div>
    
                        </div>
                    </div>
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="103" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="rojas_3_log">x</div>
    
                        </div>
                        <div id="104" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="rojas_4_log">x</div>
    
                        </div>
                    </div>
    
    
                </div>
                <div class="casillas border-0 w-25  d-flex flex-row  items-stretch">
                    <div
                        class="celdas border-0 p-0 w-50 d-flex flex-column justify-content-between items-stretch overflow-auto">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                    <div
                        class="celdas border bg-danger  p-0 w-50 d-flex flex-column justify-content-between items-stretch overflow-auto">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                    <div
                        class="celdas border p-0 w-50 d-flex flex-column justify-content-between items-stretch overflow-auto">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                </div>
                <div class="casa border-0 w-25 bg-primary bg-gradient">
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="201" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="azules_1_log">x</div>
    
                        </div>
                        <div id="202" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="azules_2_log">x</div>
    
                        </div>
                    </div>
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="203" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="azules_3_log">x</div>
    
                        </div>
                        <div id="204" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="azules_4_log">x</div>
    
                        </div>
                    </div>
                </div>
            </div>
            <div class=" h-25 d-flex flex-row  items-stretch">
                <div class="casillas border-0 w-25 d-flex flex-column  items-stretch">
                    <div class="celdas border-0 w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                    <div
                        class="celdas border bg-success w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
            
                    <div style="font-size: xx-small;  writing-mode: vertical-lr;
            text-orientation: inherit ;"
                        class="celdas border w-100 h-50 d-flex flex-column justify-content-evenly   items-stretch">
                        <div id="52" class=" celda border ">52</div>
                        <div id="53" class=" celda border ">53</div>
                        <div id="54" class=" celda border ">54</div>
                        <div id="55" class=" celda border ">55</div>
                        <div id="56" class=" celda border ">56</div>
                        <div id="57" class=" celda border ">57</div>
                        <div id="58" class=" celda border ">58</div>
                    </div>
                </div>
                <div class="centro  border w-25 d-flex flex-column  items-stretch">
                    <div class="celdas border-0 w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="celda border"></div>
                        <div class="celda border"></div>
                        <div class="celda border"></div>
                        <!-- <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div> -->
                    </div>
                    <div class="celdas border-0 w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="celda border"></div>
                        <div class="celda border"></div>
                        <div class="celda border"></div>
                        <!-- <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div> -->
                    </div>
                    <div class="celdas border-0 w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="celda border"></div>
                        <div class="celda border"></div>
                        <div class="celda d-flex border-0 p-0 m-0">
                            <div id="8" class="celda border border-left-0 border-right-0 w-50">8</div>
    
                            <div id="9" class="celda border border-left-0 border-right-0 w-50">9</div>
                        </div>
                        <!-- <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div>
                                <div class="border"></div> -->
                    </div>
    
    
                </div>
                <div class="casillas border-0 w-25 d-flex flex-column  items-stretch">
                    <div class="celdas border-0 w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                    <div
                        class="celdas border bg-primary w-100 h-50 d-flex flex-row justify-content-between   items-stretch">
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                        <div class="border"></div>
                    </div>
                    <div style="font-size: xx-small;  writing-mode: vertical-rl;
            text-orientation: inherit;"
                        class="celdas border w-100 h-50 p-0 d-flex flex-column justify-content-evenly   items-stretch">
                        <div id="16" class="celda border h-100  ">16</div>
                        <div id="15" class="celda border   ">15</div>
                        <div id="14" class="celda border  ">14</div>
                        <div id="13" class="celda border  ">13</div>
                        <div id="12" class="celda border  ">12</div>
                        <div id="11" class="celda border ">11</div>
                        <div id="10" class="celda border ">10</div>
                    </div>
                </div>
            </div>
            <div class=" h-25 d-flex flex-row  items-stretch">
                <div class="casa border-0 w-25 bg-success bg-gradient">
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
    
                        <div id="301" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="verdes_1_log">x</div>
    
                        </div>
                        <div id="302" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="verdes_2_log">x</div>
    
                        </div>
                    </div>
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="303" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="verdes_3_log">x</div>
                        </div>
                        <div id="304" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="verdes_4_log">x</div>
                        </div>
                    </div>
                </div>
                <div class="casillas border-0 w-25 d-flex flex-row   items-stretch">
                    <div
                        class="celdas border-0 p-0 w-50 d-flex flex-column justify-content-between items-stretch overflow-auto ">
                        <div id="61" class="  celda border  ">61</div>
                        <div id="62" class="  celda border  ">62</div>
                        <div id="63" class="  celda border  ">63</div>
                        <div id="64" class="  celda border  ">64</div>
                        <div id="65" class="  celda border  ">65</div>
                        <div id="66" class="  celda border  ">66</div>
                        <div id="67" class="  celda border ">67</div>
                    </div>
                    <div class="celdas border bg-warning p-0 w-50 d-flex flex-column justify-content-between
                            items-stretch overflow-auto ">
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda border "></div>
                        <div class="celda celda-casa border ">68</div>
                    </div>
                    <div style=" font-size: xx-small"
                        class="celdas border-0 m-0 p-0 w-50 d-flex flex-column justify-content-evenly items-stretch overflow-auto ">
                        <div id="7" class=" celda border ">7</div>
                        <div id="6" class=" celda border">6</div>
                        <div id="5" class="celda border ">5</div>
                        <div id="4" class="celda  border  ">4</div>
                        <div id="3" class="celda  border ">3</div>
                        <div id="2" class="celda border ">2</div>
                        <div id="1" class="celda border ">
                            1
                        </div>
                    </div>
    
                </div>
                <div class="casa border w-25 bg-warning  bg-gradient">
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
    
                        <div id="401" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="amarillas_1_log">x</div>
    
                        </div>
                        <div id="402" class="border w-50 h-100 p-3 text-center">
                            <div class="border" id="amarillas_2_log">x</div>
    
                        </div>
                    </div>
                    <div class="casa_row row border-0 m-0 p-0 h-50 w-100 d-flex flex-column  items-stretch">
                        <div id="403" class="border w-50 h-100 m-0 p-3 text-center" >
                            <div class="border" id="amarillas_3_log">x</div>
    
                        </div>
                        <div id="404" class="border w-50 h-100 m-0 p-3 text-center">
                            <div class="border" id="amarillas_4_log">x</div>
    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <template>
        <div id="panel_fi_se" class="border-0 h-100 col-6 ">
            <div
                class="border rounded border-outset h-75 gap-1   flex-grow-1 overflow-auto text-center p-2 d-flex flex-column justify-content-between">
                <!-- <a href="./parchis_flex.html" class="btn border">↺ Refresh</a>
                            <a href="./parchis_flex.html" class="btn border">↺ Refresh</a> -->
                <h6 onclick="$('#panel_fichas').toggle();"  class="text-white bg-danger bg-gradient border border-outset rounded p-2">Fichas <span id="badge_fichas" class="badge bg-success ms-3 p-2 w-auto">x</span></h6>
                <!-- <hr class="text-white"> -->
                <div id="panel_fichas" style="display: none !important;"  class="bg-dark rounded border border-5 border-outset text-white p-1">
                    <div class=" border border-5 border-warning h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0  m-0 ">

                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_1"
                                name="optradio" value="amarillas_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_2"
                                name="optradio" value="amarillas_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_3"
                                name="optradio" value="amarillas_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_4"
                                name="optradio" value="amarillas_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-success h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success border-0 form-check-input " id="radio_verdes_1"
                                name="optradio" value="verdes_1"> 1
                            <!-- <label class="form-check-label" for="radio1"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_2" name="optradio"
                                value="verdes_2"> 2
                            <!-- <label class="form-check-label" for="radio2"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_3" name="optradio"
                                value="verdes_3"> 3
                            <!-- <label class="form-check-label"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_4" name="optradio"
                                value="verdes_4" checked> 4
                            <!-- <label class="form-check-label" for="radio_verdes_4"></label> -->
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-danger h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_1" name="optradio"
                                value="rojas_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_2" name="optradio"
                                value="rojas_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_3" name="optradio"
                                value="rojas_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_4" name="optradio"
                                value="rojas_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-primary h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_1" name="optradio"
                                value="azules_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_2" name="optradio"
                                value="azules_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_3" name="optradio"
                                value="azules_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_4" name="optradio"
                                value="azules_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                </div>
                <h6 onclick="$('#panel_seleccion').toggle();" class="text-white bg-danger bg-gradient border rounded p-2 mt-2">Seleccion <span id="badge_seleccion" class="badge bg-success ms-3 p-2 w-auto">0</span></h6>
                <!-- <hr class="text-white"> -->


                <div id="panel_seleccion" style="display: none !important;" class="border-0 w-100 ps-1 pe-1 gap-1 flex-column">
                    <div class="border-0 w-100 d-flex gap-1 flex-row justify-content-evenly">
                        <div class="border border-3   btn w-75 bg-light bg-gradient">Ficha</div> <input
                            id="input_select" type="text" class="border border-inset border-3 btn w-75 bg-info bg-gradient">
                    </div>
                    <div class="border-0 w-100 d-flex gap-1 flex-row justify-content-evenly mt-1">
                        <div class="border border-3  btn w-75  bg-light bg-gradient"> Posicion</div> <input id="input_select2"
                            type="text" class="border btn w-75 bg-info bg-gradient border-inset border-3 ">
                    </div>
                <!-- <hr class="text-white border border-2 border-white m-2 border-color-white "> -->
                <div class="border rounded d-flex flex-row justify-content-between p-2 mt-2">
                    <button id="boton_mueve" class="btn border btn-success bg-gradient text-white"
                        onclick="vete_casilla()">Mueve    <input class="btn border text-danger ms-2" id="mueve_auto" type="checkbox" checked></button>
                        <!-- <input class="btn border" id="mueve_auto" type="checkbox" checked> -->
                    <button class="btn border btn-warning bg-gradient mt-1 text-black"
                        onclick="recalcula_casilla()">Recalcula</button>

                </div>

                </div>


            </div>
            <!-- <button class="btn broder btn-success" onclick="vete_casilla()">Go</button> -->

        </div>  
    </template>
    <template>
        <!-- <div id="panel_fi_se" class="border-0 h-100 col-6 "> -->
            <div
                class="border rounded border-outset h-75 gap-1   flex-grow-1 overflow-auto text-center p-2 d-flex flex-column justify-content-between">
                <!-- <a href="./parchis_flex.html" class="btn border">↺ Refresh</a>
                            <a href="./parchis_flex.html" class="btn border">↺ Refresh</a> -->
                <h6 onclick="$('#panel_fichas').toggle();"  class="text-white bg-danger bg-gradient border border-outset rounded p-2">Fichas <span id="badge_fichas" class="badge bg-success ms-3 p-2 w-auto">x</span></h6>
                <!-- <hr class="text-white"> -->
                <div id="panel_fichas" style="display: none !important;"  class="bg-dark rounded border border-5 border-outset text-white p-1">
                    <div class=" border border-5 border-warning h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0  m-0 ">

                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_1"
                                name="optradio" value="amarillas_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_2"
                                name="optradio" value="amarillas_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_3"
                                name="optradio" value="amarillas_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-warning form-check-input" id="radio_amarillas_4"
                                name="optradio" value="amarillas_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-success h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success border-0 form-check-input " id="radio_verdes_1"
                                name="optradio" value="verdes_1"> 1
                            <!-- <label class="form-check-label" for="radio1"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_2" name="optradio"
                                value="verdes_2"> 2
                            <!-- <label class="form-check-label" for="radio2"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_3" name="optradio"
                                value="verdes_3"> 3
                            <!-- <label class="form-check-label"></label> -->
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-success form-check-input" id="radio_verdes_4" name="optradio"
                                value="verdes_4" checked> 4
                            <!-- <label class="form-check-label" for="radio_verdes_4"></label> -->
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-danger h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_1" name="optradio"
                                value="rojas_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_2" name="optradio"
                                value="rojas_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_3" name="optradio"
                                value="rojas_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-danger form-check-input" id="radio_rojas_4" name="optradio"
                                value="rojas_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                    <!-- <hr> -->
                    <div class=" border border-5  border-primary h-auto p-0 m-1 d-flex justify-content-evenly">
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_1" name="optradio"
                                value="azules_1"> 1
                            <label class="form-check-label" for="radio1"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_2" name="optradio"
                                value="azules_2"> 2
                            <label class="form-check-label" for="radio2"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_3" name="optradio"
                                value="azules_3"> 3
                            <label class="form-check-label"></label>
                        </div>
                        <div class="form-check border-0 m-0">
                            <input type="radio" class="bg-primary form-check-input" id="radio_azules_4" name="optradio"
                                value="azules_4"> 4
                            <label class="form-check-label"></label>
                        </div>
                    </div>
                </div>
                <h6 onclick="$('#panel_seleccion').toggle();" class="text-white bg-danger bg-gradient border rounded p-2 mt-2">Seleccion <span id="badge_seleccion" class="badge bg-success ms-3 p-2 w-auto">0</span></h6>
                <!-- <hr class="text-white"> -->


                <div id="panel_seleccion" style="display: none !important;" class="border-0 w-100 ps-1 pe-1 gap-1 flex-column">
                    <div class="border-0 w-100 d-flex gap-1 flex-row justify-content-evenly">
                        <div class="border border-3   btn w-75 bg-light bg-gradient">Ficha</div> <input
                            id="input_select" type="text" class="border border-inset border-3 btn w-75 bg-info bg-gradient">
                    </div>
                    <div class="border-0 w-100 d-flex gap-1 flex-row justify-content-evenly mt-1">
                        <div class="border border-3  btn w-75  bg-light bg-gradient"> Posicion</div> <input id="input_select2"
                            type="text" class="border btn w-75 bg-info bg-gradient border-inset border-3 ">
                    </div>
                <!-- <hr class="text-white border border-2 border-white m-2 border-color-white "> -->
                <div class="border rounded d-flex flex-row justify-content-between p-2 mt-2">
                    <button id="boton_mueve" class="btn border btn-success bg-gradient text-white"
                        onclick="vete_casilla()">Mueve    <input class="btn border text-danger ms-2" id="mueve_auto" type="checkbox" checked></button>
                        <!-- <input class="btn border" id="mueve_auto" type="checkbox" checked> -->
                    <button class="btn border btn-warning bg-gradient mt-1 text-black"
                        onclick="recalcula_casilla()">Recalcula</button>

                </div>

                </div>


            </div>
            <!-- <button class="btn broder btn-success" onclick="vete_casilla()">Go</button> -->

        <!-- </div>   -->
    </template>
    <template>
        <div id="panel_log" class="border h-100  p-2 d-flex flex-column  items-stretch ">
            <button class="btn btn-primary bg-gradient border text-black" onclick="$('#select_log').toggle();">Log </button>
<div style="display: none !important;"  class="border rounded w-100 h-auto mt-2 p-0 text-small "   id="select_log" >

</div>
</div>
    </template>
    <div class="panel-div" id="panel_tablero">
        <header class=" m-1 d-flex items-stretch justify-content-between">
            <h2 >Tablero</h2>
            <div>
                <button class="btn border h-75 m-1">boton2</button>
                <button class="btn border h-75 m-1">boton3</button>

            </div>        
        </header>

        <div  id="panel-div-body_1"  class="panel-div-body">Tablero body</div>

    </div>
    <div class="panel-div " id="panel_tools">
        <header class=" m-1 d-flex items-stretch justify-content-between">
            <h2 >Tools</h2>
            <div class="d-flex items-stretch justify-content-evenly gap-2">
                <a href="./newFlex.html" id="id_link_refresh" class="btn border h-75 pt-2 ">Refresh</a>

                <button id="id_boton_carga" class="btn border h-75 pt-1 ">Carga</button>

                <button id="id_boton_fichas" class="btn border h-75 pt-1">Fichas</button>
                <button onclick="recalcula_casilla()" id="id_boton_recalcula" class="btn border h-75 pt-1">Recalcula</button>
                <button id="id_boton_tools" class="btn border h-75 pt-1">Tools</button>


            </div>        
        </header>
        <div  id="panel-div-body_2" class="panel-div-body ">Tools body</div>

    </div>
    <div class="bg-black text-white panel-div" id="panel_log_top">
        <header class="ps-2 m-1 text-white d-flex items-stretch justify-content-between">
            <h4 class="ps-3 w-auto" >Log <span id="badge_log" class="badge border border-outset border-4 border-danger bg-success ms-5 p-2 w-25">0</span></h4>
            <div class=" text-white">
                <button id="id_boton_load" class="bg-success bg-gradient  text-white btn border h-75 m-1">Load</button>

                  
            </div>        
        </header>
        <div id="panel-div-body_3" class="panel-div-body"></div>

    </div>

    <script>
            var fichero = "";
        function run_ficha(id_pass){
        console.log(this.id);
        input_select.value=id_pass;
        var valor_id ="radio_" + id_pass
        input_select2.value=document.getElementById(id_pass).getAttribute("Posicion");
        document.getElementById(valor_id).click()

        badge_fichas.innerHTML=id_pass
        badge_seleccion.innerHTML=document.getElementById(id_pass).getAttribute("Posicion")

        }
            function construir_fichas() {

                var colores;

                colores = ["amarillas", "azules", "rojas", "verdes"];

                for (i = 0; i < colores.length; i++) {



                    for (j = 0; j < 4; j++) {

                        fichero += "<nav posicion='' onclick='run_ficha(this.id)'  class='ficha fichas_"
                        fichero += colores[i];
                        fichero += "' id='";

                        fichero += colores[i] + "_" + (4 - j);
                        //  ficha_select.innerHTML+="<option class='border m-2' >"+ colores[i] + "_" + (4 - j) + "</option>";

                        fichero += "' "
                        fichero += 'data-bs-toggle="tooltip" data-bs-placement="top" title="Tooltip on top"'
                        fichero += " >";


                        fichero += (4 - j)
                        fichero += "</nav>";
                    }


                }




            }

            function mueve_ficha(ficha_id, celda_id) {
                var celda_x = document.getElementById(celda_id).offsetLeft
                var celda_y = document.getElementById(celda_id).offsetTop
                var ficha_origen = document.getElementById(ficha_id).id

                document.getElementById(ficha_origen).style.left = celda_x + "px"
                document.getElementById(ficha_origen).style.top = celda_y + "px"
                document.getElementById(ficha_origen).setAttribute("Posicion", celda_id)
                document.getElementById(ficha_origen).setAttribute("Title", ("ficha: " + ficha_origen + " Posicion: " + celda_id))
                // verdes_4_log.innerHTML=celda_id
                document.getElementById(ficha_id + "_log").innerHTML = celda_id
                  document.getElementById("radio_" + ficha_id).click()

                  badge_fichas.innerHTML = ficha_id
                 badge_seleccion.innerHTML = celda_id // document.getElementById(id_pass).getAttribute("Posicion")

            }

            function recalcula_casilla() {

                for (j = 0; j < 16; j++) {

                    var ficha_sel = document.getElementsByClassName("ficha")[j]
                    var pos_sel = ficha_sel.getAttribute("Posicion")
                    mueve_ficha(ficha_sel.id, pos_sel)
                }
            }
       
            function vete_casilla() {
    var texto_pass_x = document.getElementById(input_select2.value).offsetLeft
    var texto_pass_y = document.getElementById(input_select2.value).offsetTop

    var text_origen = document.getElementById("input_select").value
    document.getElementById(text_origen).style.left = texto_pass_x + "px"
    document.getElementById(text_origen).style.top = texto_pass_y + "px"
    document.getElementById(text_origen).setAttribute("Posicion", input_select2.value)
    document.getElementById(text_origen).setAttribute("Title", ("ficha: " + text_origen + " Posicion: " + input_select2.value))
    document.getElementById (text_origen + "_log").innerHTML=input_select2.value
    document.getElementById("radio_"+text_origen).click()
var texto_pass=document.getElementById(input_select.value).innerHTML
    log_move(input_select2.value + " - " + text_origen )
    badge_fichas.innerHTML=input_select.value
    badge_seleccion.innerHTML= input_select2.value

}      

        $("#panel_log_top").draggable();
        $("#panel_log_top").resizable();

        $("#panel_tools").resizable();
        $("#panel_tools").draggable();

        $("#panel_tablero").resizable();
        $("#panel_tablero").draggable();

  

        jQuery(".panel-div>header>h2").click(function (event) {
          // alert(this.parentElement.parentElement.getElementsByTagName("DIV")[1].id) 
            const text_id="#" + this.parentElement.parentElement.getElementsByTagName("DIV")[1].id 
            $(text_id).toggle()
        
        });
        jQuery(".panel-div>header>h4").click(function (event) {
          // alert(this.parentElement.parentElement.getElementsByTagName("DIV")[1].id) 
            const text_id="#" + this.parentElement.parentElement.getElementsByTagName("DIV")[1].id 
            $(text_id).toggle()
        
        });

        jQuery("#id_boton_carga").click(function (event) {
          // alert(this.parentElement.parentElement.getElementsByTagName("DIV")[1].id) 
          document.getElementById("panel-div-body_1").innerHTML = document.getElementsByTagName("template")[0].innerHTML

       
        });
        jQuery("#id_boton_fichas").click(function (event) {
          construir_fichas();
            document.getElementById("pantalla1").innerHTML += fichero;
          $(".ficha").draggable();
            $(".caja_fichas").draggable();
            ubicacion();

            jQuery(".celda").click(function (event) {
                //$(this.href).show();
                //  alert(this.id)
                console.log("position", this.style)
                let X = event.clientX;
                let Y = event.clientY;
                var valor_pass = this.id || this.innerHTML
                try { 
                    // document.getElementById("input_1").value = "Celda: " + valor_pass + " - Pos_x: " + X + " - Pos_y: " + Y + " offset-left: " + this.offsetLeft + " offset-top: " + this.offsetTop 
                    input_select2.value=valor_pass

                //  try{alert(mueve_auto.checked)}
                        try{ if (mueve_auto.checked==true) {document.getElementById("boton_mueve").click()} }
                        catch{}

                }

                catch { alert(this); }
                

            });
        });
        jQuery("#id_boton_tools").click(function (event) {
          // alert(this.parentElement.parentElement.getElementsByTagName("DIV")[1].id) 
          document.getElementById("panel-div-body_2").innerHTML = document.getElementsByTagName("template")[2].innerHTML
         
        });
        jQuery("#id_boton_load").click(function (event) {
          document.getElementById("panel-div-body_3").innerHTML = document.getElementsByTagName("template")[3].innerHTML
         
        });
        
      var rtime;
var timeout = false;
var delta = 200;
jQuery("#panel_tablero").resize(function (event) {
            rtime = new Date();
    if (timeout === false) {
        timeout = true;
        setTimeout(resizeend, delta);
    }
        });

function resizeend() {
    if (new Date() - rtime < delta) {
        setTimeout(resizeend, delta);
    } else {
        timeout = false;
       // alert('Done resizing');
        recalcula_casilla() 
    }               
}
function ubicacion(){
    mueve_ficha("amarillas_1", "401")
   // log_move("amarillas_1" + " - " + "text_origen" )
    mueve_ficha("amarillas_2", "402")
    mueve_ficha("amarillas_3", "403")
    mueve_ficha("amarillas_4", "404")

    mueve_ficha("verdes_1", "301")
    mueve_ficha("verdes_2", "302")
    mueve_ficha("verdes_3", "303")
    mueve_ficha("verdes_4", "304")

    mueve_ficha("azules_1", "201")
    mueve_ficha("azules_2", "202")
    mueve_ficha("azules_3", "203")
    mueve_ficha("azules_4", "204")

    mueve_ficha("rojas_1", "101")
    mueve_ficha("rojas_2", "102")
    mueve_ficha("rojas_3", "103")
    mueve_ficha("rojas_4", "104")



}
   
function log_move(texto){
var valor_cuenta=(((document.getElementById("select_log").getElementsByTagName("DIV").length)/10)+1) 
badge_log.innerHTML=valor_cuenta
   var texto_panel="";
   texto_panel+= "<div class='border bg-white text-black rounded overflowx-auto d-flex flex-column justify-content-between flex-wrap m-2 p-1' >"
   texto_panel+="<div class=' btn btn-success border border-black rounded w-100 ps-3'>No: "+ valor_cuenta
   var valor_1= "$('#panel_nota_"+valor_cuenta+"').toggle();" 
   texto_panel+="<button class='btn btn-danger w-50 border ps-3 ms-2' onclick=" +valor_1+ ">▦ Log</button>"+ "</div>"

   texto_panel+= "<div style='display: none;' id='panel_nota_"+valor_cuenta +"' class='border bg-white text-white rounded m-0 p-1  w-100  flex-wrap h-auto'>"
   texto_panel+= "<div class='btn btn-warning m-0 p-2'>"
   texto_panel+= "<div class='border btn btn-secondary'>Hora :</div> " +" <hr class='m-1 border-3'>" +"<div class='btn border  btn-primary'>"  + new Date()  + "</div>"
   texto_panel+= "</div>"
      texto_panel+= "<h6 class='bg-warning bg-gradient border rounded mt-2 m-0 p-2 w-100  flex-wrap h-auto   text-black '>"
            texto_panel+= "<div class='border btn btn-secondary'>Ficha:</div> " +"<div class='w-50 btn btn-primary border'>" + texto.split("-")[1] + "</div>"
            texto_panel+= "</h6>"
      texto_panel+= "<h6 class='bg-warning bg-gradient border rounded m-0 p-2 w-100  flex-wrap h-auto  text-black '>"
      texto_panel+= "<div class='border btn btn-secondary w-50'>Posicion:</div> " +"<div class='btn border w-25 btn-primary'>"  + texto.split("-")[0]+ "</div>"
      texto_panel+= "</h6>"
      texto_panel+= "</div>"
      // texto_panel+= "</p>"
   texto_panel+= "</div>"
   //-----
   document.getElementById("select_log").innerHTML =texto_panel + select_log.innerHTML
}
   
   </script>
</body>
</html>